<h2 class="">Ajouter une dépense</h2>

<div class="formulaire">
    <form [formGroup]="formulaire" (ngSubmit)="envoyerDepense()" class="flex flex-column gap-2">
      <div class="nom-form">
        <input pInputText type="text" formControlName="nom" [(ngModel)]="nouvelleDepense.nom" placeholder="Nom" >
        <div *ngIf="formulaire.get('nom')?.hasError('required') && formulaire.get('nom')?.touched">
          Le nom est requis.
        </div>
      </div>
        
        <div class="prix-form">
          <input pInputText type="number" formControlName="prix" [(ngModel)]="nouvelleDepense.prix" placeholder="Prix">
          <div *ngIf="formulaire.get('prix')?.hasError('required') && formulaire.get('prix')?.touched">
            Le prix est requis.
          </div>
          <div *ngIf="formulaire.get('prix')?.hasError('min') && formulaire.get('prix')?.touched">
            Le prix doit être supérieur ou égal à 1.
          </div>
        </div>
        
        <div class="description-form">
          <input pInputText type="text" formControlName="description" [(ngModel)]="nouvelleDepense.description" placeholder="Description">
        </div>

        <div class="date-form">
          <input pInputText type="date" formControlName="date" [(ngModel)]="nouvelleDepense.date">
          <div *ngIf="formulaire.get('date')?.hasError('required') && formulaire.get('date')?.touched">
              La date est obligatoire
          </div>
        </div>

        <div class="bouton-form">
          <button pButton type="submit" [disabled]="formulaire.invalid">Ajouter Depense</button>
        </div>
      </form>
</div>

<app-mon-solde></app-mon-solde>