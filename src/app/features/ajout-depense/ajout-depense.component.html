<div class="add-depense">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <h2>Ajouter une dépense</h2>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="formulaire">
        <form [formGroup]="formulaire" (ngSubmit)="envoyerDepense()" class="flex flex-column gap-2">
  
          <div class="nom-form">
            <mat-form-field>
              <input matInput type="text" formControlName="nom" [(ngModel)]="nouvelleDepense.nom" placeholder="Nom">
            </mat-form-field>
  
            @if(formulaire.get('nom')?.hasError('required') && formulaire.get('nom')?.touched) {
            <span class="errorMessage">
              Le nom est requis.
            </span>
            }
          </div>
  
  
          <div class="prix-form">
            <mat-form-field>
              <input matInput type="number" formControlName="prix" [(ngModel)]="nouvelleDepense.prix" placeholder="Prix">
            </mat-form-field>
  
            @if(formulaire.get('prix')?.hasError('required') && formulaire.get('prix')?.touched) {
            <span class="errorMessage">
              Le prix est requis.
            </span>
            }
            @else if (formulaire.get('prix')?.hasError('min') && formulaire.get('prix')?.touched) {
            <span class="errorMessage">
              Le prix doit être supérieur ou égal à 1.
            </span>
            }
          </div>
  
  
          <div class="description-form">
            <mat-form-field>
              <input matInput type="text" formControlName="description" [(ngModel)]="nouvelleDepense.description"
                placeholder="Description (optionnel)">
            </mat-form-field>
          </div>
  
  
          <div class="date-form">
            <mat-form-field>
              <mat-label>Choose a date</mat-label>
              <input matInput formControlName="date" [(ngModel)]="nouvelleDepense.date" [matDatepicker]="picker">
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            @if (formulaire.get('date')?.hasError('required') && formulaire.get('date')?.touched) {
            <span class="errorMessage">
              La date est obligatoire
            </span>
            }
          </div>
  
          <mat-card-actions>
            <div class="bouton-form">
              <button mat-raised-button color="primary" type="submit" [disabled]="formulaire.invalid">Ajouter
                Depense</button>
            </div>
          </mat-card-actions>
        </form>
      </div>
    </mat-card-content>
  </mat-card>
</div>


<app-depenses></app-depenses>